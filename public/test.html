<script src="https://download.agora.io/sdk/release/AgoraRTC_N.js"></script>

<h3>Testing Agora...</h3>
<button onclick="join()">Join Test</button>
<div id="local" style="width:200px;height:200px;background:#000"></div>

<script>
    const APP_ID = "fd9af3acc04c42c2bd50db90bbfe7edd";
    const CHANNEL = "testChannel";

    const client = AgoraRTC.createClient({ mode: "rtc", codec: "vp8" });

    async function join() {
        try {
            await client.join(APP_ID, CHANNEL, null, Math.floor(Math.random() * 10000));
            console.log("JOIN SUCCESS");

            const [mic, cam] = await AgoraRTC.createMicrophoneAndCameraTracks();
            cam.play("local");
            await client.publish([mic, cam]);

            console.log("PUBLISHED SUCCESS");
        } catch (err) {
            console.error("ERROR:", err);
            alert("ERROR: " + err.message);
        }
    }
</script>